/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./src/dingo.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./src/controller.js":
/*!***************************!*\
  !*** ./src/controller.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Controller; });\n/* harmony import */ var _menu_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./menu.js */ \"./src/menu.js\");\n\nclass Controller {\n  constructor(model, view) {\n    this.model = model;\n    this.view = view;\n    this.menu = new _menu_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n\n    this.waitingFetch = false;\n\n    // render initial menu view from root via event call\n    this.menuNode = this.menu.menuItems[0];\n    this.menuEvent(this.menuNode);\n\n    // event handlers\n    let classInstance = this;\n    this.view.on('menuEvent', function(ev) { classInstance.menuEvent(ev) });\n    this.model.on('dataEvent', function(ev) { classInstance.dataEvent(ev) });\n    this.model.on('dingoStatusEvent',\n                  function(ev) { classInstance.dingoStatusEvent(ev) });\n  }\n\n  debug(msg) {\n    if (typeof msg != \"undefined\") {\n      console.log(JSON.parse(JSON.stringify(msg)));\n    } else {\n      console.log(\"Debug - undefined\");\n    }\n  }\n\n  dataEvent(ev) {\n    let classInstance = this;\n    // this.debug(ev);\n    // classInstance.view.renderProperty(ev);\n    this.view.renderStatusTable(ev);\n    // clearInterval(classInstance.timer);\n    // classInstance.timer = setInterval(\n    //     () => { classInstance.model.getProperty(classInstance.menuNode['r']);\n    //     }, 5000);\n  }\n\n  dingoStatusEvent(ev) {\n    this.view.renderStatusTable(ev);\n    // this.debug(ev); \n  }\n\n  menuEvent(ev) {\n    let menu = this.menu.update(ev);\n    this.view.renderMenu(menu);\n    this.menuNode = menu.activeItem;\n    let dingoStatus = this.model.getDingoStatus();\n    // console.log(\"Menu Event\");\n    // (menu.activeItem['r']);\n    // this.view.renderStatusTable(dingoStatus);\n    // this.view.renderProperty([]);\n  }\n}\n\n\n//# sourceURL=webpack:///./src/controller.js?");

/***/ }),

/***/ "./src/dingo.js":
/*!**********************!*\
  !*** ./src/dingo.js ***!
  \**********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _model_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./model.js */ \"./src/model.js\");\n/* harmony import */ var _view_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./view.js */ \"./src/view.js\");\n/* harmony import */ var _controller_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./controller.js */ \"./src/controller.js\");\n\n\n\n\n\n\n// var Model = require('./model.js');\n// var View = require('./view.js');\n// var Controller = require('./controller.js');\n\nconst app = new _controller_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"](new _model_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"](), new _view_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"]());\n\n\n//# sourceURL=webpack:///./src/dingo.js?");

/***/ }),

/***/ "./src/eventemitter.js":
/*!*****************************!*\
  !*** ./src/eventemitter.js ***!
  \*****************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return EventEmitter; });\nclass EventEmitter {\n  constructor() {\n    this.events = {};\n  }\n  on(event, listener) {\n    if (typeof this.events[event] !== 'object') {\n      this.events[event] = [];\n    }\n    this.events[event].push(listener);\n    return () => this.removeListener(event, listener);\n  }\n  removeListener(event, listener) {\n    if (typeof this.events[event] === 'object') {\n      const idx = this.events[event].indexOf(listener);\n      if (idx > -1) {\n        this.events[event].splice(idx, 1);\n      }\n    }\n  }\n  emit(event, ...args) {\n    if (typeof this.events[event] === 'object') {\n      this.events[event].forEach(listener => listener.apply(this, args));\n    }\n  }\n  once(event, listener) {\n    const remove = this.on(event, (...args) => {\n      remove();\n      listener.apply(this, args);\n    });\n  }\n};\n\n\n//# sourceURL=webpack:///./src/eventemitter.js?");

/***/ }),

/***/ "./src/format.js":
/*!***********************!*\
  !*** ./src/format.js ***!
  \***********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Format; });\nclass Format {\n\n  static enumerate(value, enumerationArray) {\n    var number = Number(value);\n    if ((number >= 0) && (number < enumerationArray.length)) {\n      return enumerationArray[number];\n    } else {\n      return \"Illegal value\";\n    }\n  }\n\n  // populate the property with formated value\n  static format(property, value) {\n    if (property.f == \"milli\") {\n      property.v = (Number(value) * 0.001).toFixed(1);\n    } else if (property.f == \"time\") {\n      if (value == 255) {\n        property.v = \"--:--\"\n        property.u = \"Not Yet\"\n      } else {\n        var number = Number(value);\n        var hour = Math.floor(number / 10.0);\n        var minute = Math.floor((number - hour * 10) * 6);\n        property.v = hour.toString().padStart(2, '0') + \":\" +\n                     minute.toString().padStart(2, '0');\n      }\n    } else if (property.f == \"scah\") {\n      if (value < 50) {\n        property.v = (value * 20).toFixed(0);\n      } else {\n        property.v = (1000 + 100 * (value - 50)).toFixed(0);\n      }\n    } else if (property.f == \"prog\") {\n      property.u = this.enumerate(value, [\n        \"Flooded battery, No night light, Low battery disconnect\",\n        \"Sealed battery, No night light, Low battery disconnect\",\n        \"Flooded battery, Night light, Low battery disconnect\",\n        \"Sealed battery, Night light, Low battery disconnect\",\n        \"User configured settings\"\n      ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"volt\") {\n      property.v = this.enumerate(value, [ \"12\", \"24\", \"32\", \"36\", \"48\" ]);\n    // } else if (property.f == \"scdv\") {\n    //   property.v = (this.scale * Number(value) * 0.1).toFixed(1);\n    } else if (property.f == \"unit\") {\n      property.v = value.toFixed(0);\n    } else if (property.f == \"ldst\") {\n      property.u = this.enumerate(value, [ \"Connected\", \"Disconnected\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"gnst\") {\n      property.u = this.enumerate(value, [ \"Off\", \"Running\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"evst\") {\n      property.u = this.enumerate(value, [ \"Off\", \"Active\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"cpst\") {\n      property.u = this.enumerate(value, [ \"OK\", \"Tripped\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"lpst\") {\n      property.u = this.enumerate(value, [ \"OK\", \"Tripped\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"alst\") {\n      property.u = this.enumerate(value, [ \"Off\", \"Active\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"regm\") {\n      property.u = this.enumerate(\n          value, [ \"Boost\", \"Equalisation\", \"Absorbtion\", \"Float\" ]);\n      property.v = value.toFixed(0);\n    } else if (property.f == \"temp\") {\n      if (value == -128) {\n        property.v = \"--\";\n        property.u = \"Sensor not present\";\n      } else {\n        property.v = value.toFixed(0);\n        // property.u = \"Celcius\";\n      }\n    } else {\n      property.v = \"Illegal format\";\n    }\n  }\n}\n\n\n//# sourceURL=webpack:///./src/format.js?");

/***/ }),

/***/ "./src/menu.js":
/*!*********************!*\
  !*** ./src/menu.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Menu; });\n// Menu depends on prog, strt, stop, gmod, tmod, shunt/switch/mppt presence\n\nclass Menu {\n  constructor() {\n    this.menuItems = [\n      {l : \"BATV\", r : \"batv\"},\n      {l : \"CHRG\", r : \"CHRGTOT\"},\n      {l : \"INT\", p : \"CHRG\", r : \"cint\"},\n      {l : \"EXT\", p : \"CHRG\", r : \"cext\"},\n      {l : \"LOAD\", r : \"LOADTOT\"},\n      {l : \"INT\", p : \"LOAD\", r : \"lint\"},\n      {l : \"EXT\", p : \"LOAD\", r : \"lext\"},\n      {l : \"IN\", r : \"c-in\"},\n      {l : \"INT\", p : \"IN\", r : \"AHININT\"},\n      {l : \"EXT\", p : \"IN\", r : \"AHINEXT\"},\n      {l : \"OUT\", r : \"cout\"},\n      {l : \"INT\", p : \"OUT\", r : \"AHOUTINT\"},\n      {l : \"EXT\", p : \"OUT\", r : \"AHOUTEXT\"},\n      {l : \"DATA\"},\n      {l : \"VMAX\", p : \"DATA\", r : \"vmax\"},\n      {l : \"VMIN\", p : \"DATA\", r : \"vmin\"},\n      {l : \"FTIM\", p : \"DATA\", r : \"ftim\"},\n      {l : \"SOC\", p : \"DATA\", r : \"bsoc\"},\n      {l : \"TEMP\", p : \"DATA\", r : \"temp\"},\n      {l : \"SOLV\", p : \"DATA\", r : \"SOLV\"},\n      {l : \"HIST\", p : \"DATA\"},\n      {l : \"NEXT\", p : \"HIST\", r : \"NEXT\"},\n      {l : \"PREV\", p : \"HIST\", r : \"PREV\"},\n      {l : \"SET\"},\n      {l : \"TIME\", p : \"SET\", r : \"time\"},\n      {l : \"VOLT\", p : \"SET\", r : \"volt\"},\n      {l : \"PROG\", p : \"SET\", r : \"prog\"},\n      {l : \"BCAP\", p : \"SET\", r : \"bcap\"}\n    ];\n  }\n\n  // build(prog, strt, stop, gmod, tmod, devices, ...){\n  //\n  // }\n\n  update(ev) {\n    if (ev['l'] == \"BACK\") {\n      ev = ev['backNode'];\n    }\n    // create a list of event buttons' p, siblings and children\n    let p = this.menuItems.find(item => item['l'] == ev['p']);\n    let siblings = this.menuItems.filter(item => item['p'] == ev['p']);\n    let children = this.menuItems.filter(item => item['p'] == ev['l']);\n    // this.debug({children : children});\n    // this.debug({siblings : siblings});\n    // this.debug({p : p});\n    let menuList = [];\n    if ((typeof p != 'undefined') && (typeof p['r'] != 'undefined')) {\n      menuList.push(p);\n      // backNode = this.menuItems.find(item => item['l'] == p['l']);\n    }\n    let backNode = this.menuItems[0];\n    if (typeof p != 'undefined') {\n      backNode = p;\n    }\n    let menuNode = ev;\n    if (children.length > 0) {\n      // button has children\n      if (typeof ev['r'] != 'undefined') {\n        menuList.push(ev);\n      } else {\n        menuNode = children[0];\n      }\n      menuList = menuList.concat(children);\n    } else {\n      // button has no children\n      menuList = menuList.concat(siblings);\n    }\n    // add back button if we are not at top level\n    if ((typeof p != 'undefined') || (children.length > 0)) {\n      menuList.push({l : \"BACK\", backNode : backNode});\n    }\n    return { menuItems: menuList, activeItem: menuNode }\n  }\n}\n\n\n//# sourceURL=webpack:///./src/menu.js?");

/***/ }),

/***/ "./src/model.js":
/*!**********************!*\
  !*** ./src/model.js ***!
  \**********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Model; });\n/* harmony import */ var _eventemitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eventemitter.js */ \"./src/eventemitter.js\");\n/* harmony import */ var _format_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./format.js */ \"./src/format.js\");\n/* harmony import */ var _properties_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./properties.js */ \"./src/properties.js\");\n\n\n\nclass Model extends _eventemitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() { super(); }\n\n  fetchWithTimeout(url, timeout) {\n    return new Promise((resolve, reject) => {\n      const controller = new AbortController();\n      const signal = controller.signal;\n      // Set timeout timer\n      let timer = setTimeout(() => {\n        controller.abort();\n        reject(new Error('Fetch timeout'));\n      }, timeout);\n      // Start fetch\n      fetch(url, {signal})\n          .then(response => {\n            if (!response.ok) {\n              reject(new Error(\"Fetch error \" + response.status));\n            } else\n              return response;\n          })\n          .then(response => response.json())\n          .then(response => resolve(response))\n          .catch(error => reject(error))\n          .finally(() => clearTimeout(timer))\n    })\n  }\n\n  // async getJSON(url) {\n  //   let classInstance = this;\n  //   let timeoutMs = 5000;\n  //   await classInstance.fetchWithTimeout(url, timeoutMs)\n  //       .then(response => response.json())\n  //       .catch((error) => console.error('Err:', error));\n  //   return response;\n  // }\n\n  elaborate(prop, data) {\n    let classInstance = this;\n    let property = _properties_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(prop);\n    _format_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].format(property, data);\n    return [ property['l'], property['v'], property['u'] ];\n  }\n\n  debug(msg) {\n    let text = msg;\n    console.log(text)\n    // if (typeof msg != \"undefined\") {\n    //   console.log(JSON.parse(JSON.stringify(msg)));\n    // } else {\n    //   console.log(\"Debug - undefined\");\n    // }\n  }\n\n  elaborateStatus(statusData) {\n    let data = [];\n    Object.keys(statusData).forEach(function(key) {\n      let property = _properties_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"].find(key);\n      if ((typeof property != 'undefined')) {\n        _format_js__WEBPACK_IMPORTED_MODULE_1__[\"default\"].format(property, statusData[key]);\n        data.push(property);\n      } else {\n        console.log(\"Cant find \" + key);\n      }\n    })\n\n    this.emit('dingoStatusEvent', data);\n    return statusData;\n  }\n\n  async getDingoStatus() {\n    let dingoStatus =\n        await this.fetchWithTimeout(\"cgi-bin/gateway/dingo/status\", 5000)\n            .then(response => this.elaborateStatus(response))\n            .catch(response => console.log(response))\n\n    // await this.fetchWithTimeout(\"cgi-bin/gateway/dingo/statuss\", 5000);\n    // }\n    // catch(error) {\n    //   this.debug(dingoStatus);\n    //   return dingoStatus;\n    // }\n\n    // this.emit('dingoStatusEvent', dingoStatus);\n    return dingoStatus;\n    // console.log(this.elaborate(property, retval['batv']));\n\n    // this.elaborate(property, retval['batv']));\n  }\n\n  // console.log(show);\n}\n// }\n\n//\n// scrape(reg, value) {\n//   if (reg == \"volt\") {\n//     if (value == 0)\n//       this.scale = 1.0;\n//     if (value == 1)\n//       this.scale = 2.0;\n//     if (value == 2)\n//       this.scale = 2.666;\n//     if (value == 3)\n//       this.scale = 3.0;\n//     if (value == 4)\n//       this.scale = 4.0;\n//   }\n//   if (reg == \"gmod\") {\n//     this.gmod = value;\n//   }\n// }\n\n//\n// var requestedParameter = '';\n//\n// function getProperty(propertyArray) {\n//   requestedParameter = propertyArray[propertyIndex].key;\n//   xhttp.open(\"GET\", \"cgi-bin/gateway/\" + requestedParameter, true);\n//   xhttp.send();\n// }\n//\n// xhttp.onreadystatechange = function() {\n//   if (this.readyState == 4) {\n//     if (this.status == 200) {\n//       // document.getElementById('adjustModal').style.display = 'none'\n//       var response = JSON.parse(this.responseText);\n//       format(statusProperties[propertyIndex],\n//       response[requestedParameter]);\n//\n//       //if (properties[propertyIndex].key == \"batv\") {\n//       // gauge1.setValue(Number(properties[propertyIndex].value));\n//       // gauge.draw();\n//       //}\n//       // properties[propertyIndex].value = Number(this.responseText);\n//       // callback(this.responseText);\n//       // document.getElementById(property).innerHTML =\n//       //   (Number(this.responseText) * 0.1).toFixed(1);\n//\n//       //setTimeout(getNextProperty, 100);\n//       drawTable(statusProperties);\n//       iterateProperties(statusProperties);\n//       addRowHandlers();\n//       adjustHide();\n//     }\n//   }\n// };\n\n// var requestedParameter = '';\n//\n// function getProperty(propertyArray) {\n//   requestedParameter = propertyArray[propertyIndex].key;\n//   xhttp.open(\"GET\", \"cgi-bin/gateway/\" + requestedParameter, true);\n//   xhttp.send();\n// }\n//\n// xhttp.onreadystatechange = function() {\n//   if (this.readyState == 4) {\n//     if (this.status == 200) {\n//       // document.getElementById('adjustModal').style.display = 'none'\n//       var response = JSON.parse(this.responseText);\n//       format(statusProperties[propertyIndex],\n//       response[requestedParameter]);\n//\n//       //if (properties[propertyIndex].key == \"batv\") {\n//       // gauge1.setValue(Number(properties[propertyIndex].value));\n//       // gauge.draw();\n//       //}\n//       // properties[propertyIndex].value = Number(this.responseText);\n//       // callback(this.responseText);\n//       // document.getElementById(property).innerHTML =\n//       //   (Number(this.responseText) * 0.1).toFixed(1);\n//\n//       //setTimeout(getNextProperty, 100);\n//       drawTable(statusProperties);\n//       iterateProperties(statusProperties);\n//       addRowHandlers();\n//       adjustHide();\n//     }\n//   }\n// };\n\n\n//# sourceURL=webpack:///./src/model.js?");

/***/ }),

/***/ "./src/properties.js":
/*!***************************!*\
  !*** ./src/properties.js ***!
  \***************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Properties; });\nclass Properties {\n  static find(propertyName) {\n    const properties = [\n      {r : \"prog\", l : \"Program\", u : \"\", f : \"prog\"},\n      {r : \"volt\", l : \"System Voltage\", u : \"V\", f : \"volt\"},\n      {r : \"time\", l : \"Dingo Clock\", u : \"Hours\", f : \"time\"},\n      {r : \"temp\", l : \"Battery Temperature\", u : \"Celcius\", f : \"temp\"},\n      {r : \"batv\", l : \"Battery Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"regv\", l : \"Regulation Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"dequ\", l : \"Days Since Equalisation\", u : \"Days\", f : \"unit\"},\n      {r : \"dbst\", l : \"Days Since Boost\", u : \"Days\", f : \"unit\"},\n      {r : \"ftim\", l : \"Time Entered Float\", u : \"Hours\", f : \"time\"},\n      {r : \"bsoc\", l : \"Battery SOC\", u : \"Percent\", f : \"unit\"},\n      {r : \"vmax\", l : \"Battery Maximum Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"vmin\", l : \"Battery Minimum Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"ldst\", l : \"Load Status\", u : \"\", f : \"ldst\"},\n      {r : \"gnst\", l : \"Generator Status\", u : \"\", f : \"gnst\"},\n      {r : \"evst\", l : \"Event Status\", u : \"\", f : \"evst\"},\n      {r : \"cpst\", l : \"Charge Protection Status\", u : \"\", f : \"cpst\"},\n      {r : \"alst\", l : \"Alarm Status\", u : \"\", f : \"alst\"},\n      {r : \"lpst\", l : \"Load Protection Status\", u : \"\", f : \"lpst\"},\n      {r : \"regm\", l : \"Regulator Mode\", u : \"\", f : \"regm\"},\n      {r : \"vers\", l : \"Software Version\", u : \"\", f : \"unit\"},\n      {r : \"vcmp\", l : \"Temperature Compensation\", u : \"V\", f : \"milli\"},\n\n\n      {r : \"cint\", l : \"Internal Charge Current\", u : \"A\", f : \"milli\"},\n      {r : \"ciah\", l : \"Internal Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n      {r : \"lint\", l : \"Internal Load Current\", u : \"A\", f : \"milli\"},\n      {r : \"liah\", l : \"Internal Accumulated Load\", u : \"Ah\", f : \"unit\"},\n      {r : \"cext\", l : \"External Charge Current\", u : \"A\", f : \"milli\"},\n      {r : \"c-in\", l : \"Total Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n      {r : \"lext\", l : \"External Load Current\", u : \"A\", f : \"milli\"},\n      {r : \"cout\", l : \"Total Accumulated Load\", u : \"Ah\", f : \"unit\"},\n\n\n      {r : \"xah1\", l : \"External Shunt 1 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"xah2\", l : \"External Shunt 2 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"xah3\", l : \"External Shunt 3 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"xah4\", l : \"External Shunt 4 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"xa-1\", l : \"External Shunt 1 Current\", u : \"A\", f : \"milli\"},\n      {r : \"xa-2\", l : \"External Shunt 2 Current\", u : \"A\", f : \"milli\"},\n      {r : \"xa-3\", l : \"External Shunt 3 Current\", u : \"A\", f : \"milli\"},\n      {r : \"xa-4\", l : \"External Shunt 4 Current\", u : \"A\", f : \"milli\"},\n\n\n      {r : \"g-on\", l : \"Genarator Start Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"goff\", l : \"Genarator Stop Voltage\", u : \"V\", f : \"milli\"},\n      // {r : \"gons\", l : \"Genarator Start SOC\", u : \"Percent\", f : \"unit\"},\n      // {r : \"gofs\", l : \"Genarator Stop SOC\", u : \"Percent\", f : \"unit\"},\n      {r : \"gdel\", l : \"Genarator Delay Time\", u : \"Minutes\", f : \"unit\"},\n      {r : \"gexd\", l : \"Genarator Exercise Frequency\", u : \"Days\", f : \"unit\"},\n      {r : \"grun\", l : \"Genarator Run Time\", u : \"Hours\", f : \"unit\"},\n      {r : \"loff\", l : \"Load Disconnect Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"l-on\", l : \"Load Reconnect Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"ldel\", l : \"Load Delay Time\", u : \"Minutes\", f : \"unit\"},\n      {r : \"alrm\", l : \"Alarm Activation Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"bfrq\", l : \"Boost Frequency\", u : \"Days\", f : \"unit\"},\n      {r : \"atim\", l : \"Absorbtion Time\", u : \"Hours\", f : \"time\"},\n      {r : \"hyst\", l : \"Hysteresis Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"bret\", l : \"Boost Return Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"clim\", l : \"Current Limit\", u : \"A\", f : \"milli\"},\n      {r : \"bat2\", l : \"Battery 2 Regulation Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"evsr\", l : \"Event Control 1\", u : \"\", f : \"unit\"},\n\n      {r : \"evsp\", l : \"Event Control 2\", u : \"\", f : \"unit\"},\n      {r : \"evtm\", l : \"Event Control 3\", u : \"\", f : \"unit\"},\n      {r : \"efrq\", l : \"Equalisation Frequency\", u : \"Days\", f : \"unit\"},\n      {r : \"etim\", l : \"Equalisation Time\", u : \"Hours\", f : \"unit\"},\n      {r : \"absv\", l : \"Absorbtion Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"emax\", l : \"Equalise Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"fltv\", l : \"Float Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"bmax\", l : \"Boost Voltage\", u : \"V\", f : \"milli\"},\n      {r : \"gset\", l : \"Generator Output Control\", u : \"\", f : \"unit\"},\n      {r : \"lset\", l : \"Load Output Control\", u : \"\", f : \"unit\"},\n      {r : \"bset\", l : \"Battery Sense Control\", u : \"\", f : \"unit\"},\n      {r : \"pwmm\", l : \"PWM Mode Control\", u : \"\", f : \"unit\"},\n      {r : \"stop\", l : \"Event Stop Control\", u : \"\", f : \"unit\"},\n      {r : \"strt\", l : \"Event Start Control\", u : \"\", f : \"unit\"},\n      {r : \"tmod\", l : \"Event TMOD Control\", u : \"\", f : \"unit\"},\n      {r : \"emod\", l : \"Event EMOD Control\", u : \"\", f : \"unit\"},\n      {r : \"tcmp\", l : \"Temperature Compensation Mode\", u : \"\", f : \"unit\"},\n      {r : \"gmod\", l : \"Generator Mode Control\", u : \"\", f : \"unit\"},\n      {r : \"bcap\", l : \"Battery Capacity\", u : \"Ah\", f : \"scah\"},\n\n\n      {r : \"dvty\", l : \"Dingo Type\", u : \"\", f : \"unit\"},\n      {r : \"dvsn\", l : \"Dingo Serial Number\", u : \"\", f : \"unit\"},\n      {r : \"hstp\", l : \"History Offset\", u : \"Days\", f : \"unit\"},\n\n\n      {r : \"sc-1\", l : \"External Switch 1 Control Byte\", u : \"\", f : \"unit\"},\n      {r : \"sc-2\", l : \"External Switch 2 Control Byte\", u : \"\", f : \"unit\"},\n      {r : \"sah1\", l : \"External Switch 1 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"sah2\", l : \"External Switch 2 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"sa-1\", l : \"External Switch 1 Current\", u : \"A\", f : \"milli\"},\n      {r : \"sd-1\", l : \"External Switch 1 Duty\", u : \"Percent\", f : \"unit\"},\n      {r : \"st-1\", l : \"External Switch 1 Temp\", u : \"Celcius\", f : \"temp\"},\n      {r : \"sa-2\", l : \"External Switch 2 Current\", u : \"A\", f : \"milli\"},\n      {r : \"sd-2\", l : \"External Switch 2 Duty\", u : \"Percent\", f : \"unit\"},\n      {r : \"st-2\", l : \"External Switch 2 Temp\", u : \"Celcius\", f : \"temp\"},\n\n      {r : \"sc-3\", l : \"External Switch 3 Control Byte\", u : \"\", f : \"unit\"},\n      {r : \"sc-4\", l : \"External Switch 4 Control Byte\", u : \"\", f : \"unit\"},\n      {r : \"sah3\", l : \"External Switch 3 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"sah4\", l : \"External Switch 4 Accumulated\", u : \"Ah\", f : \"unit\"},\n      {r : \"sa-3\", l : \"External Switch 3 Current\", u : \"A\", f : \"milli\"},\n      {r : \"sd-3\", l : \"External Switch 3 Duty\", u : \"Percent\", f : \"unit\"},\n      {r : \"st-3\", l : \"External Switch 3 Temp\", u : \"Celcius\", f : \"temp\"},\n      {r : \"sa-4\", l : \"External Switch 4 Current\", u : \"A\", f : \"milli\"},\n      {r : \"sd-4\", l : \"External Switch 4 Duty\", u : \"Percent\", f : \"unit\"},\n      {r : \"st-4\", l : \"External Switch 4 Temp\", u : \"Celcius\", f : \"temp\"},\n    ];\n\n    return properties.find(property => property['r'] == propertyName);\n  }\n}\n\n// const properties = [\n// {p: \"BATV\", l : \"Battery Voltage\", u : \"V\", f : \"milli\"},\n// {p: \"CHRG\", l : \"Total Charge Current\", u : \"A\", f : \"milli\"},\n// {p: \"INT\", l : \"Internal Charge Current\", u : \"A\", f : \"milli\"},\n// {p: \"EXT\", l : \"External Charge Current\", u : \"A\", f : \"milli\"},\n// {p: \"LOAD\", l : \"Total Load Current\", u : \"A\", f : \"milli\"},\n// {p: \"INT\", l : \"Internal Load Current\", u : \"A\", f : \"milli\"},\n// {p: \"EXT\", l : \"External Load Current\", u : \"A\", f : \"milli\"},\n// {p: \"IN\", l : \"Total Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n// {p: \"INT\", l : \"Internal Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n// {p: \"EXT\", l : \"External Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n// {p: \"OUT\", l : \"Total Accumulated Load\", u : \"Ah\", f : \"unit\"},\n// {p: \"INT\", l : \"Internal Accumulated Load\", u : \"Ah\", f : \"unit\"},\n// {p: \"EXT\", l : \"External Accumulated Load\", u : \"Ah\", f : \"unit\"},\n//\n// {p: \"VMAX\", l : \"Battery Maximum Voltage\", u : \"V\", f : \"milli\"},\n// {p: \"VMIN\", l : \"Battery Minimum Voltage\", u : \"V\", f : \"milli\"},\n// {p: \"FTIM\", l : \"Time Entered Float\", u : \"Hours\", f : \"time\"},\n// {p: \"SOC\", l : \"Battery SOC\", u : \"Percent\", f : \"unit\"},\n// {p: \"TEMP\", l : \"Battery Temperature\", u : \"Celcius\", f : \"temp\"},\n//\n// {p: \"TIME\", l : \"Dingo Clock\", u : \"Hours\", f : \"time\"},\n// {p: \"VOLT\", l : \"System Voltage\", u : \"V\", f : \"volt\"},\n// {p: \"PROG\", l : \"Program\", u : \"\", f : \"prog\"},\n// {p: \"BCAP\", l : \"Battery Capacity\", u : \"Ah\", f : \"scah\"}\n// ];\n\n// const properties = [\n//   {r : \"prog\", l : \"Program\", u : \"\", f : \"prog\"},\n//   {r : \"volt\", l : \"System Voltage\", u : \"V\", f : \"volt\"},\n//   {r : \"time\", l : \"Dingo Clock\", u : \"Hours\", f : \"time\"},\n//   {r : \"bcap\", l : \"Battery Capacity\", u : \"Ah\", f : \"scah\"},\n//   {r : \"temp\", l : \"Battery Temperature\", u : \"Celcius\", f : \"temp\"},\n//   {r : \"batv\", l : \"Battery Voltage\", u : \"V\", f : \"milli\"},\n//   {r : \"regv\", l : \"Regulation Voltage\", u : \"V\", f : \"milli\"},\n//   {r : \"dequ\", l : \"Days Since Equalisation\", u : \"Days\", f : \"unit\"},\n//   {r : \"dbst\", l : \"Days Since Boost\", u : \"Days\", f : \"unit\"},\n//   {r : \"ftim\", l : \"Time Entered Float\", u : \"Hours\", f : \"time\"},\n//   {r : \"bsoc\", l : \"Battery SOC\", u : \"Percent\", f : \"unit\"},\n//   {r : \"vmax\", l : \"Battery Maximum Voltage\", u : \"V\", f : \"milli\"},\n//   {r : \"vmin\", l : \"Battery Minimum Voltage\", u : \"V\", f : \"milli\"},\n//   {r : \"ldst\", l : \"Load Status\", u : \"\", f : \"ldst\"},\n//   {r : \"gnst\", l : \"Generator Status\", u : \"\", f : \"gnst\"},\n//   {r : \"evst\", l : \"Event Status\", u : \"\", f : \"evst\"},\n//   {r : \"cpst\", l : \"Charge Protection Status\", u : \"\", f : \"cpst\"},\n//   {r : \"regm\", l : \"Regulator Mode\", u : \"\", f : \"regm\"},\n//   {r : \"vers\", l : \"Software Version\", u : \"\", f : \"unit\"},\n//   {r : \"vcmp\", l : \"Temperature Compensation\", u : \"V\", f : \"milli\"},\n//   {r : \"cint\", l : \"Internal Charge Current\", u : \"A\", f : \"milli\"},\n//   {r : \"ciah\", l : \"Internal Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n//   {r : \"lint\", l : \"Internal Load Current\", u : \"A\", f : \"milli\"},\n//   {r : \"liah\", l : \"Internal Accumulated Load\", u : \"Ah\", f : \"unit\"},\n//   {r : \"cext\", l : \"External Charge Current\", u : \"A\", f : \"milli\"},\n//   {r : \"c-in\", l : \"Total Accumulated Charge\", u : \"Ah\", f : \"unit\"},\n//   {r : \"lext\", l : \"External Load Current\", u : \"A\", f : \"milli\"},\n//   {r : \"cout\", l : \"Total Accumulated Load\", u : \"Ah\", f : \"unit\"}\n// ];\n\n\n//# sourceURL=webpack:///./src/properties.js?");

/***/ }),

/***/ "./src/view.js":
/*!*********************!*\
  !*** ./src/view.js ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return View; });\n/* harmony import */ var _eventemitter_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./eventemitter.js */ \"./src/eventemitter.js\");\n\nclass View extends _eventemitter_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n  constructor() { super(); }\n\n  // generateTableHead(table, data) {\n  //   let thead = table.createTHead();\n  //   let row = thead.insertRow();\n  //   for (let key of data) {\n  //     let th = document.createElement(\"th\");\n  //     let text = document.createTextNode(key);\n  //     th.appendChild(text);\n  //     row.appendChild(th);\n  //   }\n  // }\n\n  generateTable(table, data) {\n    for (let element of data) {\n      let row = table.insertRow();\n      // for (key in element) {\n        let cell = row.insertCell();\n        let text = document.createTextNode(element['l']);\n        cell.appendChild(text);\n\n        cell = row.insertCell();\n        text = document.createTextNode(element['v']);\n        cell.appendChild(text);\n\n        cell = row.insertCell();\n        text = document.createTextNode(element['u']);\n        cell.appendChild(text);\n      // }\n    }\n  }\n\n  renderStatusTable(statusData) {\n    console.log(statusData)\n    let classInstance = this;\n\n    let content = document.createElement('div');\n    content.setAttribute(\"id\", \"infodiv\");\n\n    let table = document.createElement('table');\n\n    // this.generateTable(table, data);\n\n    // let table = document.querySelector(\"table\");\n    // let data = Object.keys(statusData[0]);\n    // this.generateTableHead(table, data);\n    this.generateTable(table, statusData);\n\n    content.append(table);\n    document.querySelector('#infodiv').replaceWith(content);\n  }\n\n  // let header = table.createTHead(); //document.createElement('th');\n  // let row = header.insertRow();\n  //     let cell = row.insertCell(0);\n  //\n  // let text = document.createTextNode('Parameter');\n  //\n  //     cell.innerHTML = \"Parameter\"\n  //     cell = row.insertCell(0);\n  //     cell.innerHTML = \"Value\"\n  //\n  //     let text = document.createTextNode('Parameter');\n  //\n  //\n  //     let tr = document.createElement('tr');\n  //\n  // data.forEach(function(item) {\n  //   let button = document.createElement('tr');\n  //   button.classList.add('mainitem');\n  //   button.textContent = item;\n  //   button.addEventListener('click', () => {\n  //     classInstance.emit('menuEvent', item);\n  //   });\n  //\n  // });\n\n  renderProperty(data) {\n    let classInstance = this;\n    let content = document.createElement('div');\n    content.setAttribute(\"id\", \"infodiv\");\n    data.forEach(function(item) {\n      let button = document.createElement('button');\n      button.classList.add('mainitem');\n      button.textContent = item;\n      button.addEventListener('click',\n                              () => { classInstance.emit('menuEvent', item); });\n      content.append(button);\n    });\n    document.querySelector('#infodiv').replaceWith(content);\n  }\n\n  renderMenu(menuContent) {\n    let classInstance = this;\n    let menu = document.createElement('div');\n    menu.setAttribute(\"id\", \"menudiv\");\n    menuContent['menuItems'].forEach(function(item) {\n      let button = document.createElement('button');\n      button.classList.add('menuitem');\n      if (item == menuContent['activeItem'])\n        button.classList.add('menuactive');\n      button.textContent = item['l'];\n      button.addEventListener('click',\n                              () => { classInstance.emit('menuEvent', item); });\n      menu.append(button);\n    });\n    document.querySelector('#menudiv').replaceWith(menu);\n  }\n}\n\n\n//# sourceURL=webpack:///./src/view.js?");

/***/ })

/******/ });